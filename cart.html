<!DOCTYPE html>
<html lang="zh-Hant">

<head>
  <meta charset="UTF-8">
  <title>è³¼ç‰©è»Šï½œæµæµªè²“å’ªç‹—ç‹—çš„ç¾©è³£èŠ±åœ’</title>
  <link rel="stylesheet" href="style.css">
</head>

<body>
  <h1>ğŸ¾ è³¼ç‰©è»Šæ¸…å–®</h1>
  <ul id="cart-list"></ul>

  <form id="googleForm" 
        action="https://docs.google.com/forms/d/e/1FAIpQLSdxz_zaYyigsjkLCC8wGLPaeUKaAz55Vv54ugwZQSHMgUvjbA/formResponse" 
        method="POST"
        target="_blank">
    <h3>è«‹ç•™ä¸‹è¯çµ¡è³‡æ–™</h3>
    <label>å§“åï¼š
      <input type="text" name="entry.464998322" id="userName" required>
    </label><br>
    <label>è¯çµ¡æ–¹å¼ï¼ˆFB / IGçš†å¯ï¼‰ï¼š
      <input type="text" name="entry.940145478" id="userContact" required>
    </label><br>
    <input type="hidden" name="entry.1309453478" id="cartSummary">
    <button type="submit">ğŸ“© é€å‡ºè³¼ç‰©å–®</button>
  </form>

  <p style="margin-top: 1rem;">
    æˆ– ğŸ‘‰ <a href="https://www.facebook.com/sara.liu.70621" target="_blank">ç”¨ Messenger è¯çµ¡æˆ‘</a>
  </p>

  <script>
    // é¡¯ç¤ºè³¼ç‰©è»Šå…§å®¹
    const cart = JSON.parse(localStorage.getItem("cart")) || [];
    const list = document.getElementById("cart-list");

    if (cart.length === 0) {
      list.innerHTML = "<li>ç›®å‰è³¼ç‰©è»Šæ˜¯ç©ºçš„å–”ï¼</li>";
    } else {
      cart.forEach((item, index) => {
        let li = document.createElement("li");
        li.innerHTML = `${index + 1}. ${item.name} x${item.qty} 
          <button onclick="removeItem(${index})">ğŸ—‘ åˆªé™¤</button>`;
        list.appendChild(li);
      });
    }

    function removeItem(index) {
      cart.splice(index, 1);
      localStorage.setItem("cart", JSON.stringify(cart));
      location.reload();
    }

    const form = document.getElementById("googleForm");
    
    form.addEventListener("submit", function(e) {
      const name = document.getElementById("userName").value;
      const contact = document.getElementById("userContact").value;

      if (!name || !contact || cart.length === 0) {
        alert("è«‹å¡«å¯«å§“åã€è¯çµ¡æ–¹å¼ï¼Œä¸¦åŠ å…¥è‡³å°‘ä¸€é …å•†å“ï¼");
        e.preventDefault();
        return;
      }

      let summary = cart.map(item => `${item.name} x${item.qty}`).join('\n');
      document.getElementById("cartSummary").value = summary;
      
    });
  </script>
</body>
</html>
